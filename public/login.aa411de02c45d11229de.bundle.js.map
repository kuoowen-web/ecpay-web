{"version":3,"file":"login.aa411de02c45d11229de.bundle.js","mappings":"mGAIIA,SAASC,eAAe,aAAaC,iBAAiB,UAAUC,UAC5DC,EAAEC,iBAEF,MAAMC,EAAaN,SAASC,eAAe,cAAcM,MACnDC,EAAaR,SAASC,eAAe,WAE3C,IAEI,MAAMQ,QAAiBC,MACnB,yCAAyCJ,KAEvCK,QAAeF,EAASG,OAE1BH,EAASI,IAAMF,EAAOG,OAEtBC,OAAOC,SAASC,KAAO,iBAAiBX,IAGxCS,OAAOC,SAASC,KAAO,yBAAyBX,GAExD,CAAE,MAAOY,GACLV,EAAWW,UAAY,gBACvBX,EAAWY,YAAc,kBACzBZ,EAAWa,MAAMC,QAAU,OAC/B,I","sources":["webpack://common-vote/./app/login.js"],"sourcesContent":["// 在檔案最上方引入 CSS\r\nimport './css/common.css';\r\n\r\n(function () {\r\n    document.getElementById('loginForm').addEventListener('submit', async e => {\r\n        e.preventDefault();\r\n\r\n        const merchantId = document.getElementById('merchantId').value;\r\n        const messageDiv = document.getElementById('message');\r\n\r\n        try {\r\n            // 檢查商店是否存在\r\n            const response = await fetch(\r\n                `/api/v1/comme/ecpay/check-merchant/id=${merchantId}`\r\n            );\r\n            const result = await response.json();\r\n\r\n            if (response.ok && result.exists) {\r\n                // 如果商店存在，導向到主頁面\r\n                window.location.href = `index.html?id=${merchantId}`;\r\n            } else {\r\n                // 如果商店不存在，導向到設定頁面\r\n                window.location.href = `ecpay-setting.html?id=${merchantId}`;\r\n            }\r\n        } catch (error) {\r\n            messageDiv.className = 'message error';\r\n            messageDiv.textContent = '檢查商店時發生錯誤，請稍後再試';\r\n            messageDiv.style.display = 'block';\r\n        }\r\n    });\r\n})();\r\n"],"names":["document","getElementById","addEventListener","async","e","preventDefault","merchantId","value","messageDiv","response","fetch","result","json","ok","exists","window","location","href","error","className","textContent","style","display"],"sourceRoot":""}