"use strict";(self.webpackChunkcommon_vote=self.webpackChunkcommon_vote||[]).push([[488],{246:()=>{document.getElementById("ecpaySettingForm").addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("message"),n={merchantId:document.getElementById("merchantId").value,hashKey:document.getElementById("hashKey").value,hashIV:document.getElementById("hashIV").value};try{const e=await fetch("/api/v1/comme/ecpay/setting",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await e.json();if(!e.ok)throw new Error(a.message||"儲存設定時發生錯誤");t.className="message success",t.textContent="設定已成功儲存！",console.log(merchantId),setTimeout((()=>{window.location.href=`index.html?id=${n.merchantId}`}),1e3)}catch(e){t.className="message error",t.textContent=e.message}t.style.display="block",setTimeout((()=>{t.style.display="none"}),3e3)})),window.addEventListener("load",(async()=>{try{const e=new URLSearchParams(window.location.search).get("id");e&&(document.getElementById("merchantId").value=e,document.getElementById("merchantId").readOnly=!0)}catch(e){console.error("載入設定時發生錯誤:",e)}}))}},e=>{e(e.s=246)}]);
//# sourceMappingURL=ecpaySettings.e9f1038e269a0f1d4f97.bundle.js.map